<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤ªç©ºå°„æ“ŠéŠæˆ²</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: black;
        }
        #gameCanvas {
            width: 100vw;
            height: 100vh;
            touch-action: none;
        }
        .player {
            position: absolute;
            width: 80px;
            height: 160px;
            user-select: none;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 50px;
        }
        .hitbox {
            position: absolute;
            border: 1px solid red;  /* è¨»è§£ï¼šè¨­ç½®border: none;å¯ä»¥éš±è—ç¢°æ’æ¡† */
            width: 30px;  /* è¨»è§£ï¼šé€™è£¡å¯ä»¥èª¿æ•´ç¢°æ’æ¡†å¯¬åº¦ */
            height: 40px; /* è¨»è§£ï¼šé€™è£¡å¯ä»¥èª¿æ•´æ’æ¡†é«˜åº¦ */
        }
        .bullet {
            position: absolute;
            font-size: 20px;
            user-select: none;
        }
        .enemy {
            position: absolute;
            width: 60px;
            height: 60px;
            user-select: none;
            font-size: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .cloud {
            position: absolute;
            user-select: none;
            opacity: 0.5;
        }
        .powerup {
            position: absolute;
            font-size: 30px;
            user-select: none;
        }
        .explosion {
            position: absolute;
            font-size: 40px;
            user-select: none;
        }
        #healthBar {
            position: fixed;
            top: 10px;
            left: 10px;
            color: white;
            font-size: 20px;
        }
        #gameBackground {
            position: absolute;
            width: 100vw;
            top: 0;
            left: 0;
            z-index: -1;  /* ç¢ºä¿èƒŒæ™¯åœ¨å…¶ä»–å…ƒç´ å¾Œé¢ */
        }
        @keyframes shake {
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(-10px, 10px); }
            50% { transform: translate(10px, -10px); }
            75% { transform: translate(-8px, -8px); }
        }

        .shake {
            animation: shake 0.2s ease-in-out;
        }
    </style>
</head>
<body>
    <div id="gameCanvas">
        <img id="gameBackground" src="./image/BackGround.png">
        <div id="healthBar">HP: 100</div>
    </div>

    <script>
        // éŠæˆ²åƒæ•¸è¨­å®š
        const GAME_CONFIG = {
            // èƒŒæ™¯ç›¸é—œ
            BACKGROUND_SCROLL_SPEED: 1.2,    // èƒŒæ™¯æ²å‹•é€Ÿåº¦ (è¶Šå¤§æ²å‹•è¶Šå¿«)
            
            // ç©å®¶ç›¸é—œ
            PLAYER_INITIAL_HEALTH: 100,      // ç©å®¶åˆå§‹ç”Ÿå‘½å€¼
            PLAYER_INITIAL_POWER: 1,         // ç©å®¶åˆå§‹ç«åŠ›ç­‰ç´š
            PLAYER_MAX_POWER: 5,             // ç©å®¶æœ€å¤§ç«åŠ›ç­‰ç´š
            PLAYER_SHOOT_INTERVAL: 100,      // ç©å®¶å°„æ“Šé–“éš” (æ¯«ç§’)
            PLAYER_WIDTH: 80,
            PLAYER_HEIGHT: 80,
            PLAYER_TOUCH_OFFSET: 100,  // è§¸æ§æ™‚çš„ä¸Šæ–¹åç§»é‡
            
            // æ•µäººç›¸é—œ
            ENEMY_SPAWN_INTERVAL: 1000,      // æ•µäººç”Ÿæˆé–“éš” (æ¯«ç§’)
            ENEMY_SHOOT_INTERVAL: 1000,      // æ•µäººå°„æ“Šé–“éš” (æ¯«ç§’)
            ENEMY_BULLET_SPEED: 5,           // æ•µäººå­å½ˆé€Ÿåº¦
            ENEMY_DAMAGE: 20,                // æ•µäººæ’æ“Šå‚·å®³
            
            // å­å½ˆç›¸é—œ
            PLAYER_BULLET_SPEED: 10,         // ç©å®¶å­å½ˆé€Ÿåº¦
            ENEMY_BULLET_DAMAGE: 10,         // æ•µäººå­å½ˆå‚·å®³
            
            // é“å…·ç›¸é—œ
            POWERUP_SPAWN_INTERVAL: 10000,   // é“å…·ç”Ÿæˆé–“éš” (æ¯«ç§’)
            
            // é›²æœµç›¸é—œ
            CLOUD_SPAWN_INTERVAL: 2000,      // é›²æœµç”Ÿæˆé–“éš” (æ¯«ç§’)
            CLOUD_MIN_SIZE: 50,              // é›²æœµæœ€å°å°ºå¯¸
            CLOUD_MAX_SIZE: 250,             // é›²æœµæœ€å¤§å°ºå¯¸
            
            // éŠæˆ²æ›´æ–°ç›¸é—œ
            GAME_UPDATE_INTERVAL: 16,         // éŠæˆ²æ›´æ–°é–“éš” (æ¯«ç§’ï¼Œç´„60FPS)
            ENEMY_WIDTH: 60,                 // æ•µæ©Ÿå¯¬åº¦
            ENEMY_HEIGHT: 60,                // æ•µæ©Ÿé«˜åº¦
            ENEMY_SPAWN_MARGIN: 50,          // ç”Ÿæˆé‚Šè·
            ENEMY_MOVEMENT_BOUNDARY: 20,     // ç§»å‹•é‚Šç•Œç·©è¡
            
            // éŸ³æ¨‚ç›¸é—œ
            SOUND_ENABLED: true,
            SOUND_VOLUME: 0.3,
        };

        // éŸ³æ•ˆç³»çµ±
        const AudioManager = {
            context: null,
            sounds: {},
            initialized: false,

            async init() {
                try {
                    // å‰µå»ºéŸ³é »ä¸Šä¸‹æ–‡
                    this.context = new (window.AudioContext || window.webkitAudioContext)();
                    
                    // ç¢ºä¿éŸ³é »ä¸Šä¸‹æ–‡å·²ç¶“å•Ÿå‹•
                    if (this.context.state === 'suspended') {
                        await this.context.resume();
                    }
                    
                    console.log('éŸ³é »ä¸Šä¸‹æ–‡ç‹€æ…‹:', this.context.state);
                    
                    // ç©å®¶å°„æ“ŠéŸ³æ•ˆ
                    this.createSound('shoot', {
                        frequencies: [150, 100],
                        type: 'square',
                        duration: 0.1,
                        volume: 0.035
                    });

                    // æ·»åŠ æ•µæ©Ÿå°„æ“ŠéŸ³æ•ˆ
                    this.createSound('enemyShoot', {
                        frequencies: [300, 200],    // æ¯”ç©å®¶å°„æ“Šç•¥é«˜çš„é »ç‡
                        type: 'sawtooth',           // ä½¿ç”¨é‹¸é½’æ³¢ï¼Œè½èµ·ä¾†æ›´å°–éŠ³
                        duration: 0.15,             // ç¨é•·çš„æŒçºŒæ™‚é–“
                        volume: 0.02                 // é©ä¸­çš„éŸ³é‡
                    });
                    
                    this.createSound('explosion', {
                        frequencies: [60, 60],
                        type: 'sawtooth',
                        duration: 0.4,
                        volume: 0.2
                    });
                    
                    this.createSound('hit', {
                        frequencies: [200, 100],    // ä½é »çš„æ’æ“Šè²
                        type: 'square',             // æ–¹æ³¢ç”¢ç”Ÿæ›´æ˜é¡¯çš„æ‰“æ“Šæ„Ÿ
                        duration: 0.15,             // è¼ƒçŸ­çš„æŒçºŒæ™‚é–“
                        volume: 0.25                // é©ä¸­çš„éŸ³é‡
                    });
                    
                    this.createSound('powerup', {
                        frequencies: [1200, 1800],  // è¼ƒé«˜çš„é »ç‡
                        type: 'sine',               // ä½¿ç”¨æ­£å¼¦æ³¢ï¼Œæ›´æŸ”å’Œ
                        duration: 0.2,              // é©ä¸­çš„æŒçºŒæ™‚é–“
                        volume: 0.3                 // é©ä¸­çš„éŸ³é‡
                    });

                    this.initialized = true;
                    console.log('éŸ³æ•ˆç³»çµ±åˆå§‹åŒ–å®Œæˆ');
                } catch (error) {
                    console.error('éŸ³æ•ˆç³»çµ±åˆå§‹åŒ–å¤±æ•—:', error);
                }
            },

            createSound(name, config) {
                this.sounds[name] = config;
                console.log(`å‰µå»ºéŸ³æ•ˆ: ${name}`, config);
            },

            playSound(name) {
                if (!this.initialized || !this.sounds[name]) {
                    console.log(`ç„¡æ³•æ’­æ”¾éŸ³æ•ˆ ${name}: ç³»çµ±æœªåˆå§‹åŒ–æˆ–éŸ³æ•ˆä¸å­˜åœ¨`);
                    return;
                }

                try {
                    const sound = this.sounds[name];
                    const oscillator = this.context.createOscillator();
                    const gainNode = this.context.createGain();

                    oscillator.connect(gainNode);
                    gainNode.connect(this.context.destination);

                    oscillator.type = sound.type;
                    
                    const now = this.context.currentTime;
                    
                    // è¨­ç½®é »ç‡è®ŠåŒ–
                    oscillator.frequency.setValueAtTime(sound.frequencies[0], now);
                    oscillator.frequency.exponentialRampToValueAtTime(
                        sound.frequencies[1],
                        now + sound.duration
                    );

                    // è¨­ç½®éŸ³é‡åŒ…çµ¡
                    gainNode.gain.setValueAtTime(sound.volume, now);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, now + sound.duration);

                    oscillator.start(now);
                    oscillator.stop(now + sound.duration);
                    
                    console.log(`æ’­æ”¾éŸ³æ•ˆ: ${name}`);
                } catch (error) {
                    console.error(`æ’­æ”¾éŸ³æ•ˆ ${name} å¤±æ•—:`, error);
                }
            }
        };

        // ä¿®æ”¹ game å°è±¡ä½¿ç”¨é…ç½®åƒæ•¸
        const game = {
            player: {
                element: null,
                x: 0,
                y: 0,
                health: GAME_CONFIG.PLAYER_INITIAL_HEALTH,
                powerLevel: GAME_CONFIG.PLAYER_INITIAL_POWER
            },
            bullets: [],
            enemies: [],
            clouds: [],
            powerups: [],
            explosions: [],
            enemyBullets: [],
            background: {
                element: null,
                y: 0,
                height: 0,
                scrollSpeed: GAME_CONFIG.BACKGROUND_SCROLL_SPEED
            },
            gameOver: false,
            bgm: null,  // èƒŒæ™¯éŸ³æ¨‚
            state: 'START',  // 'START', 'PLAYING', 'GAMEOVER'
            boss: null,
            bossHealth: 50,
            isBossFight: false
        };

        function init() {
            // åªåˆå§‹åŒ–éŸ³é »
            initAudio();
            // é¡¯ç¤ºé–‹å§‹ç•«é¢
            createStartScreen();
        }

        function initBackground() {
            const bg = document.getElementById('gameBackground');
            game.background.element = bg;
            
            // ç­‰å¾…åœ–ç‰‡åŠ è¼‰å®Œæˆ
            bg.onload = () => {
                // è¨ˆç®—ç¸®æ”¾å¾Œçš„é«˜åº¦ï¼Œä¿æŒåœ–ç‰‡æ¯”ä¾‹
                const scale = window.innerWidth / bg.naturalWidth;
                game.background.height = bg.naturalHeight * scale;
                bg.style.height = game.background.height + 'px';
                
                // è¨ˆç®—æ»¾å‹•é€Ÿåº¦
                const targetTime = 60000; // 1åˆ†é˜
                const totalDistance = game.background.height - window.innerHeight;
                const speedPerFrame = totalDistance / (targetTime / GAME_CONFIG.GAME_UPDATE_INTERVAL);
                
                // æ›´æ–°é…ç½®ä¸­çš„æ»¾å‹•é€Ÿåº¦
                GAME_CONFIG.BACKGROUND_SCROLL_SPEED = speedPerFrame;
                game.background.scrollSpeed = speedPerFrame;
                
                // åˆå§‹ä½ç½®è¨­ç½®åœ¨åº•éƒ¨
                game.background.y = window.innerHeight - game.background.height;
                bg.style.top = game.background.y + 'px';
            };

            // å¦‚æœåœ–ç‰‡å·²ç¶“è¢«å¿«å–ï¼Œæ‰‹å‹•è§¸ç™¼ onload
            if (bg.complete) {
                bg.onload();
            }
        }

        function createPlayer() {
            const player = document.createElement('div');
            player.className = 'player';
            player.innerHTML = 'ğŸš€<div class="hitbox"></div>';
            document.getElementById('gameCanvas').appendChild(player);
            game.player.element = player;
            game.player.x = window.innerWidth / 2;
            game.player.y = window.innerHeight - 100;
        }

        function movePlayer(e) {
            if (game.state !== 'PLAYING') return;
            
            const playerWidth = GAME_CONFIG.PLAYER_WIDTH || 80;
            const playerHeight = GAME_CONFIG.PLAYER_HEIGHT || 80;
            
            // è¨ˆç®—æ–°ä½ç½®ï¼ˆé£›æ©Ÿä¸­å¿ƒé»å°é½Šæ»‘é¼ /æ‰‹æŒ‡ï¼‰
            const newX = e.clientX - (playerWidth / 2);
            const newY = e.clientY - (playerHeight / 2);
            
            // é™åˆ¶é£›æ©Ÿåœ¨è¢å¹•ç¯„åœå…§
            game.player.x = Math.max(0, Math.min(window.innerWidth - playerWidth, newX));
            game.player.y = Math.max(0, Math.min(window.innerHeight - playerHeight, newY));
            
            // æ›´æ–°é£›æ©Ÿä½ç½®
            game.player.element.style.left = game.player.x + 'px';
            game.player.element.style.top = game.player.y + 'px';
        }

        function shoot() {
            if (game.gameOver) return;
            
            // æ’­æ”¾å°„æ“ŠéŸ³æ•ˆ
            AudioManager.playSound('shoot');
            
            // æ ¹æ“šèƒ½é‡ç­‰ç´šæ±ºå®šå­å½ˆè§’åº¦
            let angles;
            switch (game.player.powerLevel) {
                case 1:
                    angles = [0];  // ä¸€ç™¼å­å½ˆ
                    break;
                case 2:
                    angles = [-15, 15];  // å…©ç™¼å­å½ˆï¼Œå·¦å³å„15åº¦
                    break;
                case 3:
                    angles = [-25, 0, 25];  // ä¸‰ç™¼å­å½ˆï¼Œå·¦ä¸­å³
                    break;
                case 4:
                    angles = [-30, -10, 10, 30];  // å››ç™¼å­å½ˆ
                    break;
                case 5:
                    angles = [-35, -17.5, 0, 17.5, 35];  // äº”ç™¼å­å½ˆ
                    break;
                default:
                    angles = [0];
            }
            
            // ç™¼å°„å­å½ˆ
            angles.forEach(angle => {
                const bullet = document.createElement('div');
                bullet.className = 'bullet';
                bullet.innerHTML = 'ğŸ”¥';
                
                // å¾é£›æ©Ÿä¸­å¿ƒç™¼å°„
                const bulletX = game.player.x + 40;  // 40 æ˜¯é£›æ©Ÿå¯¬åº¦çš„ä¸€åŠ
                const bulletY = game.player.y;
                
                bullet.style.left = bulletX + 'px';
                bullet.style.top = bulletY + 'px';
                document.getElementById('gameCanvas').appendChild(bullet);
                
                // è¨ˆç®—å­å½ˆçš„æ°´å¹³å’Œå‚ç›´é€Ÿåº¦åˆ†é‡
                const radian = angle * (Math.PI / 180);  // å°‡è§’åº¦è½‰æ›ç‚ºå¼§åº¦
                const speed = GAME_CONFIG.PLAYER_BULLET_SPEED;
                const speedX = Math.sin(radian) * speed;  // æ°´å¹³é€Ÿåº¦åˆ†é‡
                const speedY = -Math.cos(radian) * speed; // å‚ç›´é€Ÿåº¦åˆ†é‡
                
                game.bullets.push({
                    element: bullet,
                    x: bulletX,
                    y: bulletY,
                    speedX: speedX,
                    speedY: speedY
                });
            });
        }

        function createEnemy() {
            if (game.gameOver) return;
            const enemy = document.createElement('div');
            enemy.className = 'enemy';
            
            // ç²å–æ•µæ©Ÿçš„å°ºå¯¸
            const ENEMY_WIDTH = 60;  // æ ¹æ“šä½ çš„ CSS ä¸­è¨­ç½®çš„å¯¬åº¦
            
            // è¨ˆç®—å®‰å…¨çš„ç”Ÿæˆç¯„åœ
            const minX = 0;
            const maxX = window.innerWidth - ENEMY_WIDTH;
            
            // ç¢ºä¿æ•µæ©Ÿåœ¨å¯è¦‹ç¯„åœå…§ç”Ÿæˆ
            const x = minX + Math.random() * (maxX - minX);
            const y = -ENEMY_WIDTH;  // å¾è¢å¹•ä¸Šæ–¹ç¨å¾®åä¸Šçš„ä½ç½®é–‹å§‹
            
            enemy.style.left = x + 'px';
            enemy.style.top = y + 'px';
            
            // ä½¿ç”¨å¤–æ˜Ÿäºº emoji
            const alienEmojis = ['ğŸ‘¾', 'ğŸ‘½', 'ğŸ‘»', 'ğŸ¤–'];
            const randomAlien = alienEmojis[Math.floor(Math.random() * alienEmojis.length)];
            enemy.innerHTML = randomAlien;
            
            document.getElementById('gameCanvas').appendChild(enemy);

            const movePatterns = [
                { type: 'straight', speed: 2 },
                { type: 'wave', speed: 3, amplitude: 100, frequency: 0.02 },
                { type: 'spiral', speed: 2, radius: 100, angle: 0 },
                { type: 'target', speed: 3, targetY: Math.random() * 200 }
            ];

            // æ ¹æ“šè¢å¹•å¯¬åº¦èª¿æ•´æ³¢æµªå’Œèºæ—‹ç§»å‹•çš„å¹…åº¦
            const screenWidthFactor = window.innerWidth / 1920; // å‡è¨­ 1920 æ˜¯åŸºæº–å¯¬åº¦
            movePatterns[1].amplitude *= screenWidthFactor; // èª¿æ•´æ³¢æµªå¹…åº¦
            movePatterns[2].radius *= screenWidthFactor;    // èª¿æ•´èºæ—‹åŠå¾‘

            const shootPatterns = [
                { type: 'down' },
                { type: 'aimed' },
                { type: 'spread4' },
                { type: 'spread8' }
            ];

            game.enemies.push({
                element: enemy,
                x: x,
                y: y,
                width: ENEMY_WIDTH,
                height: ENEMY_WIDTH,
                pattern: movePatterns[Math.floor(Math.random() * movePatterns.length)],
                shootPattern: shootPatterns[Math.floor(Math.random() * shootPatterns.length)],
                lastShot: 0
            });
        }

        function createCloud() {
            const cloud = document.createElement('div');
            cloud.className = 'cloud';
            cloud.innerHTML = 'â˜ï¸';
            const size = GAME_CONFIG.CLOUD_MIN_SIZE + 
                         Math.random() * (GAME_CONFIG.CLOUD_MAX_SIZE - GAME_CONFIG.CLOUD_MIN_SIZE);
            cloud.style.fontSize = size + 'px';
            const x = Math.random() * (window.innerWidth - size);
            cloud.style.left = x + 'px';
            cloud.style.top = '-' + size + 'px';
            document.getElementById('gameCanvas').appendChild(cloud);
            game.clouds.push({
                element: cloud,
                x: x,
                y: -size,
                speed: 1 + Math.random() * 2,
                size: size
            });
        }

        function createPowerup() {
            if (game.gameOver) return;
            const powerup = document.createElement('div');
            powerup.className = 'powerup';
            powerup.innerHTML = 'â­';
            const x = Math.random() * (window.innerWidth - 30);
            powerup.style.left = x + 'px';
            powerup.style.top = '-30px';
            document.getElementById('gameCanvas').appendChild(powerup);
            game.powerups.push({
                element: powerup,
                x: x,
                y: -30,
                width: 30,
                height: 30
            });
        }

        function enemyShoot(enemy) {
            // æ’­æ”¾æ•µæ©Ÿå°„æ“ŠéŸ³æ•ˆ
            AudioManager.playSound('enemyShoot');

            const bullet = document.createElement('div');
            bullet.className = 'bullet';
            bullet.innerHTML = 'ğŸ’ ';

            const bulletData = {
                element: bullet,
                x: enemy.x + 15,
                y: enemy.y + 30,
                speedX: 0,
                speedY: GAME_CONFIG.ENEMY_BULLET_SPEED
            };

            switch (enemy.shootPattern.type) {
                case 'down':
                    // ç›´ç·šå‘ä¸‹å°„æ“Š
                    break;
                case 'aimed':
                    // ç„æº–ç©å®¶å°„æ“Š
                    const dx = game.player.x - enemy.x;
                    const dy = game.player.y - enemy.y;
                    const angle = Math.atan2(dy, dx);
                    bulletData.speedX = Math.cos(angle) * GAME_CONFIG.ENEMY_BULLET_SPEED;
                    bulletData.speedY = Math.sin(angle) * GAME_CONFIG.ENEMY_BULLET_SPEED;
                    break;
                case 'spread4':
                    // å››å‘æ•£å°„
                    for (let i = 0; i < 4; i++) {
                        const angle = (i * Math.PI / 2);
                        createEnemyBullet(enemy, angle);
                    }
                    return;
                case 'spread8':
                    // å…«å‘æ•£å°„
                    for (let i = 0; i < 8; i++) {
                        const angle = (i * Math.PI / 4);
                        createEnemyBullet(enemy, angle);
                    }
                    return;
            }

            bullet.style.left = bulletData.x + 'px';
            bullet.style.top = bulletData.y + 'px';
            document.getElementById('gameCanvas').appendChild(bullet);
            game.enemyBullets.push(bulletData);
        }

        function createEnemyBullet(enemy, angle) {
            // ä¸éœ€è¦åœ¨é€™è£¡æ’­æ”¾éŸ³æ•ˆï¼Œå› ç‚ºå·²ç¶“åœ¨ enemyShoot ä¸­æ’­æ”¾äº†
            const bullet = document.createElement('div');
            bullet.className = 'bullet';
            bullet.innerHTML = 'ğŸ’ ';
            bullet.style.left = (enemy.x + 15) + 'px';
            bullet.style.top = (enemy.y + 30) + 'px';
            document.getElementById('gameCanvas').appendChild(bullet);
            
            game.enemyBullets.push({
                element: bullet,
                x: enemy.x + 15,
                y: enemy.y + 30,
                speedX: Math.cos(angle) * GAME_CONFIG.ENEMY_BULLET_SPEED,
                speedY: Math.sin(angle) * GAME_CONFIG.ENEMY_BULLET_SPEED
            });
        }

        function shakeScreen() {
            const gameCanvas = document.getElementById('gameCanvas');
            gameCanvas.style.animation = 'none';
            void gameCanvas.offsetHeight; // è§¸ç™¼é‡æ’
            gameCanvas.style.animation = 'shake 0.2s ease-in-out';
        }

        function updateGame() {
            if (game.state !== 'PLAYING') return;

            // æ›´æ–°èƒŒæ™¯ä½ç½®
            if (!game.isBossFight) {  // åªåœ¨é Boss æˆ°æ™‚æ»¾å‹•èƒŒæ™¯
                game.background.y += game.background.scrollSpeed;
                game.background.element.style.top = game.background.y + 'px';

                // æª¢æŸ¥æ˜¯å¦éœ€è¦è§¸ç™¼ Boss æˆ°
                if (game.background.y >= 0) {  // ç•¶èƒŒæ™¯æ»¾å‹•åˆ°é ‚éƒ¨æ™‚
                    createBoss();
                    return;
                }
            }

            // æ›´æ–°ç©å®¶ä½ç½®
            game.player.element.style.left = game.player.x + 'px';
            game.player.element.style.top = game.player.y + 'px';

            // ç§»é™¤åŸæœ¬çš„ Game Over æª¢æŸ¥
            // if (game.player.y < 0) {
            //     gameOver();
            //     return;
            // }

            // æ›´æ–°å­å½ˆä½ç½®
            for (let i = game.bullets.length - 1; i >= 0; i--) {
                const bullet = game.bullets[i];
                
                // ä½¿ç”¨é€Ÿåº¦åˆ†é‡æ›´æ–°ä½ç½®
                bullet.x += bullet.speedX;
                bullet.y += bullet.speedY;
                
                // æ›´æ–°å­å½ˆå…ƒç´ ä½ç½®
                bullet.element.style.left = bullet.x + 'px';
                bullet.element.style.top = bullet.y + 'px';
                
                // ç§»é™¤è¶…å‡ºè¢å¹•çš„å­å½ˆ
                if (bullet.y < 0 || bullet.x < 0 || bullet.x > window.innerWidth) {
                    bullet.element.remove();
                    game.bullets.splice(i, 1);
                }
            }

            // æ›´æ–°æ•µäººä½ç½®å’Œå°„æ“Š
            game.enemies.forEach((enemy, index) => {
                let newX = enemy.x;
                let newY = enemy.y;

                switch (enemy.pattern.type) {
                    case 'straight':
                        newY += enemy.pattern.speed;
                        break;
                    case 'wave':
                        newY += enemy.pattern.speed;
                        newX = enemy.x + Math.sin(newY * enemy.pattern.frequency) * enemy.pattern.amplitude * 0.1;
                        break;
                    case 'spiral':
                        newY += enemy.pattern.speed;
                        enemy.pattern.angle += 0.05;
                        newX += Math.cos(enemy.pattern.angle) * 2;
                        break;
                    case 'target':
                        if (newY < enemy.pattern.targetY) {
                            newY += enemy.pattern.speed;
                        }
                        break;
                }

                // é™åˆ¶æ•µæ©Ÿåœ¨è¢å¹•ç¯„åœå…§
                newX = Math.max(0, Math.min(window.innerWidth - enemy.width, newX));
                
                enemy.x = newX;
                enemy.y = newY;
                enemy.element.style.left = newX + 'px';
                enemy.element.style.top = newY + 'px';

                // æª¢æŸ¥æ˜¯å¦è¶…å‡ºè¢å¹•
                if (enemy.y > window.innerHeight + 50) {  // åªæª¢æŸ¥ä¸‹é‚Šç•Œï¼Œå…è¨±å¾ä¸Šæ–¹é€²å…¥
                    enemy.element.remove();
                    game.enemies.splice(index, 1);
                    return;
                }

                // æ·»åŠ æ•µäººå°„æ“Šé‚è¼¯
                const currentTime = Date.now();
                if (currentTime - enemy.lastShot > GAME_CONFIG.ENEMY_SHOOT_INTERVAL) {
                    enemyShoot(enemy);
                    enemy.lastShot = currentTime;
                }
            });

            // æ›´æ–°æ•µäººå­å½ˆä½ç½®
            game.enemyBullets.forEach((bullet, bulletIndex) => {
                bullet.x += bullet.speedX;
                bullet.y += bullet.speedY;
                bullet.element.style.left = bullet.x + 'px';
                bullet.element.style.top = bullet.y + 'px';

                // æª¢æŸ¥æ˜¯å¦è¶…å‡ºè¢å¹•
                if (bullet.y > window.innerHeight || 
                    bullet.y < 0 || 
                    bullet.x > window.innerWidth || 
                    bullet.x < 0) {
                    bullet.element.remove();
                    game.enemyBullets.splice(bulletIndex, 1);
                    return;
                }

                // æª¢æŸ¥æ•µäººå­å½ˆæ˜¯å¦æ“Šä¸­ç©å®¶
                if (checkCollision(bullet, game.player)) {
                    // æ’­æ”¾å—å‚·éŸ³æ•ˆ
                    AudioManager.playSound('hit', 100);  // é™ä½å†·å»æ™‚é–“ä»¥ç¢ºä¿éŸ³æ•ˆæ’­æ”¾
                    
                    // éœ‡å‹•æ•ˆæœ
                    shakeScreen();
                    
                    // æ¸›å°‘ç”Ÿå‘½å€¼
                    game.player.health = Math.max(0, game.player.health - 10);  // ç¢ºä¿ç”Ÿå‘½å€¼ä¸æœƒå°æ–¼ 0
                    
                    // æ›´æ–°è¡€é‡é¡¯ç¤º
                    updateHealthBar();
                    
                    // ç§»é™¤å­å½ˆ
                    bullet.element.remove();
                    game.enemyBullets.splice(bulletIndex, 1);
                    
                    // å‰µå»ºå—å‚·æ•ˆæœ
                    createHitEffect(game.player.x, game.player.y);
                    
                    // æª¢æŸ¥éŠæˆ²çµæŸ
                    if (game.player.health <= 0) {
                        gameOver();
                    }
                }
            });

            // æ›´é›²æœµä½ç½®
            game.clouds.forEach((cloud, index) => {
                cloud.y += cloud.speed;
                cloud.element.style.top = cloud.y + 'px';

                if (cloud.y > window.innerHeight) {
                    cloud.element.remove();
                    game.clouds.splice(index, 1);
                }
            });

            // æ›´æ–°è£œçµ¦å“ä½ç½®å’Œç¢°æ’æª¢æ¸¬
            for (let i = game.powerups.length - 1; i >= 0; i--) {
                const powerup = game.powerups[i];
                powerup.y += 2;
                powerup.element.style.top = powerup.y + 'px';

                if (powerup.y > window.innerHeight) {
                    powerup.element.remove();
                    game.powerups.splice(i, 1);
                    continue;
                }

                // æ›´æ–° powerup çš„å¯¦éš›ä½ç½®
                powerup.x = parseFloat(powerup.element.style.left);
                
                if (checkCollision(powerup, game.player)) {
                    handlePowerupCollision(powerup, i);
                }
            }

            // æª¢æŸ¥å­å½ˆæ“Šä¸­æ•µäºº
            game.bullets.forEach((bullet, bulletIndex) => {
                game.enemies.forEach((enemy, enemyIndex) => {
                    if (checkCollision(bullet, enemy)) {
                        createExplosion(enemy.x, enemy.y);
                        enemy.element.remove();
                        game.enemies.splice(enemyIndex, 1);
                        bullet.element.remove();
                        game.bullets.splice(bulletIndex, 1);
                    }
                });
            });

            // æª¢æŸ¥å­å½ˆæ˜¯å¦æ“Šä¸­ Boss
            if (game.boss) {
                game.bullets.forEach((bullet, bulletIndex) => {
                    if (checkCollision(bullet, game.boss)) {
                        // æ’­æ”¾æ“Šä¸­éŸ³æ•ˆ
                        AudioManager.playSound('hit');
                        
                        // ç§»é™¤å­å½ˆ
                        bullet.element.remove();
                        game.bullets.splice(bulletIndex, 1);
                        
                        // æ¸›å°‘ Boss è¡€é‡
                        game.boss.health--;
                        game.bossHealth--;
                        
                        // å‰µå»ºæ‰“æ“Šç‰¹æ•ˆ
                        createHitEffect(
                            bullet.x + Math.random() * 400, 
                            bullet.y + Math.random() * 400
                        );

                        // Boss è¢«æ“Šæ•—
                        if (game.bossHealth <= 0) {
                            handleBossDefeat();
                        }
                    }
                });
            }
        }

        function checkCollision(obj1, obj2) {
            // ç²å–å…©å€‹ç‰©é«”çš„ä½ç½®å’Œå¤§å°
            let rect1, rect2;
            
            if (obj2 === game.player) {
                // ç²å–ç©å®¶çš„ä½ç½®å’Œå¤§å°
                const playerRect = obj2.element.getBoundingClientRect();
                rect2 = {
                    x: playerRect.left,
                    y: playerRect.top,
                    width: playerRect.width,
                    height: playerRect.height
                };
            } else {
                rect2 = {
                    x: obj2.x,
                    y: obj2.y,
                    width: obj2.width || 30,
                    height: obj2.height || 30
                };
            }

            rect1 = {
                x: parseFloat(obj1.element.style.left),
                y: parseFloat(obj1.element.style.top),
                width: obj1.width || 30,
                height: obj1.height || 30
            };

            return rect1.x < rect2.x + rect2.width &&
                   rect1.x + rect1.width > rect2.x &&
                   rect1.y < rect2.y + rect2.height &&
                   rect1.y + rect1.height > rect2.y;
        }

        function createExplosion(x, y) {
            // æ’­æ”¾çˆ†ç‚¸éŸ³æ•ˆ
            AudioManager.playSound('explosion');
            
            const explosion = document.createElement('div');
            explosion.className = 'explosion';
            explosion.innerHTML = 'ğŸ’¥';
            explosion.style.left = x + 'px';
            explosion.style.top = y + 'px';
            document.getElementById('gameCanvas').appendChild(explosion);
            setTimeout(() => explosion.remove(), 500);
        }

        function gameOver() {
            game.state = 'GAMEOVER';
            game.gameOver = true;
            document.getElementById('healthBar').textContent = 'GAME OVER';
            if (game.bgm) {
                game.bgm.pause();
                game.bgm.currentTime = 0;
            }

            // å¯ä»¥æ·»åŠ é‡æ–°é–‹å§‹æŒ‰éˆ•
            const restartButton = document.createElement('button');
            restartButton.textContent = 'é‡æ–°é–‹å§‹';
            restartButton.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                padding: 15px 40px;
                font-size: 24px;
                background: #ff0000;
                border: none;
                border-radius: 25px;
                color: white;
                cursor: pointer;
                z-index: 1000;
            `;
            
            restartButton.addEventListener('click', () => {
                location.reload();  // é‡æ–°åŠ è¼‰é é¢
            });

            document.body.appendChild(restartButton);
        }

        // æ·»åŠ éŸ³æ¨‚åˆå§‹åŒ–å’Œæ§åˆ¶å‡½æ•¸
        function initAudio() {
            try {
                // å‰µå»ºéŸ³é »å…ƒç´ 
                game.bgm = new Audio(GAME_CONFIG.BGM_PATH);
                game.bgm.loop = true;
                game.bgm.volume = GAME_CONFIG.BGM_VOLUME;
                
                // æª¢æ¸¬æ˜¯å¦æ˜¯ç§»å‹•è¨­å‚™
                const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
                
                if (isMobile) {
                    // ç§»å‹•è¨­å‚™ï¼šéœ€è¦ç”¨æˆ¶äº¤äº’æ‰æ’­æ”¾
                    document.addEventListener('touchstart', () => {
                        if (game.bgm.paused) {
                            game.bgm.play().catch(error => {
                                console.log('ç§»å‹•ç«¯éŸ³æ¨‚æ’­æ”¾å¤±æ•—:', error);
                            });
                        }
                    }, { once: true });
                } else {
                    // é›»è…¦ç«¯ï¼šè‡ªå‹•æ’­æ”¾
                    window.addEventListener('load', () => {
                        setTimeout(() => {
                            game.bgm.play().catch(error => {
                                console.log('é›»è…¦ç«¯éŸ³æ¨‚æ’­æ”¾å¤±æ•—:', error);
                                // å¦‚æœè‡ªå‹•æ’­æ”¾å¤±æ•—ï¼Œæ”¹ç‚ºç­‰å¾…ä»»æ„éµè§¸ç™¼
                                document.addEventListener('keydown', () => {
                                    if (game.bgm.paused) {
                                        game.bgm.play();
                                    }
                                }, { once: true });
                            });
                        }, 1000); // å»¶é²1ç§’å¾Œæ’­æ”¾ï¼Œç¢ºä¿é é¢å®Œå…¨åŠ è¼‰
                    });
                }

            } catch (error) {
                console.error('éŸ³é »åˆå§‹åŒ–éŒ¯èª¤:', error);
            }
        }

        function stopBGM() {
            if (game.bgm) {
                game.bgm.pause();
                game.bgm.currentTime = 0;
            }
        }

        // å¯ä»¥æ·»åŠ éŸ³é‡æ§åˆ¶æŒ‰éˆ•ï¼ˆå¯é¸ï¼‰
        function createVolumeControl() {
            const volumeBtn = document.createElement('button');
            volumeBtn.innerHTML = 'ğŸ”Š';
            volumeBtn.style.position = 'fixed';
            volumeBtn.style.top = '10px';
            volumeBtn.style.right = '10px';
            volumeBtn.style.zIndex = '1000';
            volumeBtn.style.padding = '10px';
            volumeBtn.style.background = 'rgba(255, 255, 255, 0.5)';
            volumeBtn.style.border = 'none';
            volumeBtn.style.borderRadius = '5px';
            volumeBtn.style.cursor = 'pointer';
            
            let isMuted = false;
            volumeBtn.addEventListener('click', () => {
                if (isMuted) {
                    game.bgm.volume = GAME_CONFIG.BGM_VOLUME;
                    volumeBtn.innerHTML = '';
                } else {
                    game.bgm.volume = 0;
                    volumeBtn.innerHTML = 'ğŸ”ˆ';
                }
                isMuted = !isMuted;
            });
            
            document.body.appendChild(volumeBtn);
        }

        // æ·»åŠ é–‹å§‹ç•«é¢
        function createStartScreen() {
            const startScreen = document.createElement('div');
            startScreen.id = 'startScreen';
            startScreen.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.7);
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                z-index: 1000;
            `;

            const title = document.createElement('h1');
            title.textContent = 'å¤ªç©ºæˆ°æ©Ÿ';
            title.style.cssText = `
                color: white;
                font-size: 48px;
                margin-bottom: 30px;
                text-shadow: 0 0 10px #00ff00;
            `;

            const startButton = document.createElement('button');
            startButton.textContent = 'é–‹å§‹éŠæˆ²';
            startButton.style.cssText = `
                padding: 15px 40px;
                font-size: 24px;
                background: #00ff00;
                border: none;
                border-radius: 25px;
                color: white;
                cursor: pointer;
                transition: transform 0.2s;
                box-shadow: 0 0 15px #00ff00;
            `;

            startButton.addEventListener('mouseover', () => {
                startButton.style.transform = 'scale(1.1)';
            });

            startButton.addEventListener('mouseout', () => {
                startButton.style.transform = 'scale(1)';
            });

            startButton.addEventListener('click', startGame);

            startScreen.appendChild(title);
            startScreen.appendChild(startButton);
            document.body.appendChild(startScreen);
        }

        // é–‹å§‹éŠæˆ²å‡½æ•¸
        function startGame() {
            // ç§»é™¤é–‹å§‹ç•«é¢
            const startScreen = document.getElementById('startScreen');
            if (startScreen) {
                startScreen.remove();
            }

            // åˆå§‹åŒ–éŸ³æ•ˆç³»çµ±
            AudioManager.init().then(() => {
                console.log('éŸ³æ•ˆç³»çµ±å°±ç·’');
                // æ’­æ”¾æ¸¬è©¦éŸ³æ•ˆ
                AudioManager.playSound('powerup');
            });

            // æ›´æ”¹éŠæˆ²ç‹€æ…‹
            game.state = 'PLAYING';
            
            // åˆå§‹åŒ–éŠæˆ²
            initBackground();
            createPlayer();
            
            // æ·»åŠ æ»‘é¼ å’Œè§¸æ‘¸äº‹ä»¶ç›£è½
            const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
            
            if (isMobile) {
                // ç§»å‹•è¨­å‚™çš„è§¸æ‘¸æ§åˆ¶
                document.addEventListener('touchmove', (e) => {
                    e.preventDefault();
                    movePlayer({
                        clientX: e.touches[0].clientX,
                        clientY: e.touches[0].clientY
                    });
                }, { passive: false });

                document.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    movePlayer({
                        clientX: e.touches[0].clientX,
                        clientY: e.touches[0].clientY
                    });
                }, { passive: false });
            } else {
                // é›»è…¦ç«¯çš„æ»‘é¼ æ§åˆ¶
                document.addEventListener('mousemove', (e) => {
                    movePlayer(e);
                });
            }
            
            // è¨­ç½®éŠæˆ²å¾ªç’°
            setInterval(createCloud, GAME_CONFIG.CLOUD_SPAWN_INTERVAL);
            setInterval(createEnemy, GAME_CONFIG.ENEMY_SPAWN_INTERVAL);
            setInterval(createPowerup, GAME_CONFIG.POWERUP_SPAWN_INTERVAL);
            setInterval(updateGame, GAME_CONFIG.GAME_UPDATE_INTERVAL);
            setInterval(shoot, GAME_CONFIG.PLAYER_SHOOT_INTERVAL);
        }

        // å¯ä»¥æ·»åŠ ä¸€å€‹å°ˆé–€çš„å‡½æ•¸ä¾†è™•ç†è£œçµ¦ç¢°æ’
        function handlePowerupCollision(powerup, index) {
            // æ’­æ”¾è£œçµ¦éŸ³æ•ˆ
            AudioManager.playSound('powerup');
            
            // å¢åŠ èƒ½é‡ç­‰ç´š
            if (game.player.powerLevel < GAME_CONFIG.PLAYER_MAX_POWER) {
                game.player.powerLevel++;
                console.log('Power level increased to:', game.player.powerLevel);
            }
            
            // ç§»é™¤è£œçµ¦
            powerup.element.remove();
            game.powerups.splice(index, 1);
            
            // å‰µå»ºè¦–è¦ºæ•ˆæœ
            createPowerupEffect(powerup.x, powerup.y);
        }

        // æ·»åŠ è£œçµ¦æ•ˆæœï¼ˆå¯é¸ï¼‰
        function createPowerupEffect(x, y) {
            const effect = document.createElement('div');
            effect.className = 'powerup-effect';
            effect.style.cssText = `
                position: absolute;
                left: ${x}px;
                top: ${y}px;
                width: 50px;
                height: 50px;
                background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 100%);
                border-radius: 50%;
                z-index: 1000;
            `;
            document.getElementById('gameCanvas').appendChild(effect);
            setTimeout(() => effect.remove(), 500);
        }

        // æ·»åŠ å—å‚·è¦–è¦ºæ•ˆæœ
        function createHitEffect(x, y) {
            const effect = document.createElement('div');
            effect.className = 'hit-effect';
            effect.style.cssText = `
                position: absolute;
                left: ${x}px;
                top: ${y}px;
                width: 100px;
                height: 100px;
                background: radial-gradient(circle, rgba(255,0,0,0.5) 0%, rgba(255,0,0,0) 70%);
                animation: hit-effect 0.3s ease-out forwards;
                pointer-events: none;
                z-index: 1000;
            `;
            
            document.getElementById('gameCanvas').appendChild(effect);
            
            // å‹•ç•«çµæŸå¾Œç§»é™¤æ•ˆæœ
            effect.addEventListener('animationend', () => {
                effect.remove();
            });
        }

        // æ·»åŠ ç›¸æ‡‰çš„ CSS å‹•ç•«
        const style = document.createElement('style');
        style.textContent = `
            @keyframes hit-effect {
                0% {
                    transform: scale(0.5);
                    opacity: 1;
                }
                100% {
                    transform: scale(1.5);
                    opacity: 0;
                }
            }

            @keyframes shake {
                0%, 100% {
                    transform: translateX(0);
                }
                25% {
                    transform: translateX(-5px);
                }
                75% {
                    transform: translateX(5px);
                }
            }
        `;
        document.head.appendChild(style);

        // æ·»åŠ æ›´æ–°è¡€é‡é¡¯ç¤ºçš„å‡½æ•¸
        function updateHealthBar() {
            const healthBar = document.getElementById('healthBar');
            healthBar.textContent = `HP: ${game.player.health}`;
            // ç•¶è¡€é‡ä½æ–¼ 30% æ™‚é¡¯ç¤ºç´…è‰²
            if (game.player.health < 30) {
                healthBar.style.color = 'red';
            }
        }

        // å‰µå»º Boss
        function createBoss() {
            game.isBossFight = true;
            game.bossHealth = 550;
            
            const boss = document.createElement('div');
            boss.className = 'boss';
            boss.style.cssText = `
                position: absolute;
                width: 400px;
                height: 400px;
                background-image: url('./image/boss.png');
                background-size: contain;
                background-repeat: no-repeat;
                background-position: center;
                top: -400px;
                left: calc(50% - 200px);
                transition: top 2s ease-out;
            `;
            
            document.getElementById('gameCanvas').appendChild(boss);
            
            // Boss å…¥å ´å‹•ç•«
            setTimeout(() => {
                boss.style.top = '50px';
            }, 100);

            game.boss = {
                element: boss,
                x: window.innerWidth / 2 - 200,
                y: 50,
                width: 400,
                height: 400,
                health: 50
            };

            // é–‹å§‹ Boss çš„æ”»æ“Šæ¨¡å¼
            startBossAttack();
        }

        // Boss çš„æ”»æ“Šæ¨¡å¼
        function startBossAttack() {
            const attackInterval = setInterval(() => {
                if (!game.boss || game.state !== 'PLAYING') {
                    clearInterval(attackInterval);
                    return;
                }

                // åœ“ç’°å½ˆå¹•
                for (let i = 0; i < 12; i++) {
                    const angle = (i * Math.PI * 2) / 12;
                    createBossBullet(angle);
                }
            }, 2000);
        }

        // å‰µå»º Boss å­å½ˆ
        function createBossBullet(angle) {
            const bullet = document.createElement('div');
            bullet.className = 'boss-bullet';
            bullet.style.cssText = `
                position: absolute;
                width: 20px;
                height: 20px;
                background: radial-gradient(circle, #ff0000 0%, #ff6600 100%);
                border-radius: 50%;
                box-shadow: 0 0 10px #ff0000;
            `;

            const speed = 5;
            const bulletData = {
                element: bullet,
                x: game.boss.x + 200,  // Boss ä¸­å¿ƒé»
                y: game.boss.y + 200,
                speedX: Math.cos(angle) * speed,
                speedY: Math.sin(angle) * speed,
                width: 20,
                height: 20
            };

            bullet.style.left = bulletData.x + 'px';
            bullet.style.top = bulletData.y + 'px';
            document.getElementById('gameCanvas').appendChild(bullet);
            game.enemyBullets.push(bulletData);
        }

        // è™•ç† Boss è¢«æ“Šæ•—
        function handleBossDefeat() {
            // åœæ­¢ Boss çš„ç§»å‹•å’Œæ”»æ“Š
            game.isBossFight = false;
            
            // å‰µå»ºå¤šå€‹çˆ†ç‚¸æ•ˆæœ
            let explosionCount = 0;
            const maxExplosions = 20;
            
            const explosionInterval = setInterval(() => {
                if (explosionCount >= maxExplosions) {
                    clearInterval(explosionInterval);
                    // 3ç§’å¾ŒçµæŸéŠæˆ²
                    setTimeout(() => {
                        game.boss.element.remove();
                        game.boss = null;
                        gameOver();
                    }, 3000);
                    return;
                }

                // åœ¨ Boss èº«ä¸Šéš¨æ©Ÿä½ç½®å‰µå»ºçˆ†ç‚¸
                createExplosion(
                    game.boss.x + Math.random() * 400,
                    game.boss.y + Math.random() * 400
                );
                
                explosionCount++;
            }, 150);
        }

        // ä¿®æ”¹ createExplosion å‡½æ•¸ï¼Œä½¿çˆ†ç‚¸æ•ˆæœæ›´è¯éº—
        function createExplosion(x, y) {
            AudioManager.playSound('explosion');
            
            const explosion = document.createElement('div');
            explosion.className = 'explosion';
            explosion.style.cssText = `
                position: absolute;
                width: 100px;
                height: 100px;
                left: ${x - 50}px;
                top: ${y - 50}px;
                background: radial-gradient(circle, #ff0 0%, #f00 50%, transparent 100%);
                border-radius: 50%;
                animation: explode 0.5s ease-out forwards;
            `;
            
            document.getElementById('gameCanvas').appendChild(explosion);
            setTimeout(() => explosion.remove(), 500);
        }

        // æ·»åŠ çˆ†ç‚¸å‹•ç•«æ¨£å¼
        const explosionStyle = document.createElement('style');
        explosionStyle.textContent = `
            @keyframes explode {
                0% {
                    transform: scale(0.1);
                    opacity: 1;
                }
                100% {
                    transform: scale(2);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(explosionStyle);

        init();
    </script>
</body>
</html>